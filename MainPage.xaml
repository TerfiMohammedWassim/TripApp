<?xml version="1.0" encoding="utf-8" ?>
<ContentPage 
            xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
            xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
            Title="SalesMan Travel Problem Solving"
             x:Class="TripApp.MainPage"
             BackgroundColor="#f5f5f5">

    <Grid RowDefinitions="Auto,*,Auto" Padding="20">
        <VerticalStackLayout Grid.Row="0" Spacing="15" Margin="0,0,0,20">
            <Label Text="Traveling Salesman Problem Solver" 
                   FontSize="24" 
                   FontAttributes="Bold"
                   HorizontalOptions="Center"
                   TextColor="#333333" />

            <Label Text="Generate random cities and solve using genetic algorithms" 
                   FontSize="16" 
                   HorizontalOptions="Center"
                   TextColor="#666666" />

            <Grid ColumnDefinitions="*,*,*" ColumnSpacing="10">
                <Frame Grid.Column="0" BorderColor="#dddddd" BackgroundColor="White" CornerRadius="8" Padding="10">
                    <VerticalStackLayout Spacing="10">
                        <Label Text="Cities" FontSize="16" FontAttributes="Bold" TextColor="#333333" />
                        <HorizontalStackLayout Spacing="10">
                            <Label Text="Number:" VerticalOptions="Center" TextColor="#666666" />
                            <Entry x:Name="CitiesCountEntry" Text="20" Keyboard="Numeric" WidthRequest="60" />
                        </HorizontalStackLayout>
                        <Button x:Name="GenerateCitiesButton" 
                                Text="Generate Cities" 
                                BackgroundColor="#4285F4"
                                TextColor="White"
                                CornerRadius="5"
                                Clicked="OnGenerateCitiesClicked" />
                    </VerticalStackLayout>
                </Frame>

                <Frame Grid.Column="1" BorderColor="#dddddd" BackgroundColor="White" CornerRadius="8" Padding="10">
                    <VerticalStackLayout Spacing="10">
                        <Label Text="Algorithm" FontSize="16" FontAttributes="Bold" TextColor="#333333" />
                        <HorizontalStackLayout Spacing="10">
                            <Label Text="Population:" VerticalOptions="Center" TextColor="#666666" />
                            <Entry x:Name="PopulationSizeEntry" Text="100" Keyboard="Numeric" WidthRequest="60" />
                        </HorizontalStackLayout>
                        <HorizontalStackLayout Spacing="10">
                            <Label Text="Generations:" VerticalOptions="Center" TextColor="#666666" />
                            <Entry x:Name="GenerationsEntry" Text="1000" Keyboard="Numeric" WidthRequest="60" />
                        </HorizontalStackLayout>
                    </VerticalStackLayout>
                </Frame>

                <Frame Grid.Column="2" BorderColor="#dddddd" BackgroundColor="White" CornerRadius="8" Padding="10">
                    <VerticalStackLayout Spacing="10">
                        <Label Text="Parameters" FontSize="16" FontAttributes="Bold" TextColor="#333333" />
                        <HorizontalStackLayout Spacing="10">
                            <Label Text="Mutation Rate:" VerticalOptions="Center" TextColor="#666666" />
                            <Entry x:Name="MutationRateEntry" Text="0.01" Keyboard="Numeric" WidthRequest="60" />
                        </HorizontalStackLayout>
                        <HorizontalStackLayout Spacing="10">
                            <Label Text="Elitism:" VerticalOptions="Center" TextColor="#666666" />
                            <CheckBox x:Name="ElitismCheckBox" IsChecked="True" />
                        </HorizontalStackLayout>
                    </VerticalStackLayout>
                </Frame>
            </Grid>

            <Button x:Name="SolveButton" 
                    Text="Solve TSP Problem" 
                    BackgroundColor="#34A853" 
                    TextColor="White" 
                    CornerRadius="5"
                    FontAttributes="Bold"
                    FontSize="16"
                    HeightRequest="50"
                    Margin="0,10,0,0"
                    Clicked="OnSolveClicked" />
        </VerticalStackLayout>

        <Frame Grid.Row="1" BorderColor="#dddddd" BackgroundColor="White" CornerRadius="8" Padding="10">
            <Grid RowDefinitions="Auto,*">
                <Label Text="Visualization" 
                       FontSize="18" 
                       FontAttributes="Bold" 
                       HorizontalOptions="Center"
                       TextColor="#333333"
                       Margin="0,0,0,10" />

                <GraphicsView x:Name="TspCanvas" 
                             Grid.Row="1"
                             BackgroundColor="White"
                             HeightRequest="300" />
            </Grid>
        </Frame>

        <Frame Grid.Row="2" BorderColor="#dddddd" BackgroundColor="White" CornerRadius="8" Padding="10" Margin="0,20,0,0">
            <Grid RowDefinitions="Auto,*" ColumnDefinitions="*,*">
                <Label Grid.Row="0" Grid.Column="0" 
                       Text="Algorithm Progress" 
                       FontSize="16" 
                       FontAttributes="Bold"
                       TextColor="#333333" />

                <Label Grid.Row="0" Grid.Column="1" 
                       Text="Current Solution" 
                       FontSize="16" 
                       FontAttributes="Bold"
                       TextColor="#333333" />

                <VerticalStackLayout Grid.Row="1" Grid.Column="0" Spacing="5">
                    <Label Text="Generation: " x:Name="GenerationLabel" TextColor="#666666" />
                    <Label Text="Best Fitness: " x:Name="FitnessLabel" TextColor="#666666" />
                    <Label Text="Distance: " x:Name="DistanceLabel" TextColor="#666666" />
                    <ProgressBar x:Name="AlgorithmProgress" Progress="0" />
                </VerticalStackLayout>

                <ScrollView Grid.Row="1" Grid.Column="1">
                    <Label x:Name="SolutionPathLabel" 
                           Text="No solution yet. Press 'Solve' to start."
                           TextColor="#666666" />
                </ScrollView>
            </Grid>
        </Frame>
    </Grid>
</ContentPage>